<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise-封装 | 1-初始结构搭建</title>
    <script src="./promise.js"></script>
</head>
<body>
    <script>
        let p = new Promise((resolve, reject)=>{
            setTimeout(()=>{
                // resolve('OK');
                reject('Error');
            }, 1000);
            // resolve('OK');
            // reject('error');
            // 抛出异常
            // throw 'error';
        });
        // console.log(p);
        // let result = p.then(value=>{
        //     console.log('!!!!!!!!!!!!!!!!!!!!!!!!');
        //     // console.log(value);
        //     // throw '111'
        //     // return new Promise((resolve, reject)=>{
        //     //     reject('o no');
        //     // })
        //     // throw "错误"
        // },reason=>{
        //     console.warn(reason);
        //     // throw 'error';
        // });
        // console.log('----------------------------');
        // console.log(result);// 同步执行输出的依然是未决定的状态
        // p.then(value=>{
        //     alert(value);
        // }, reason=>{
        //     alert(reason);
        // });
        // console.log(p);
        p.then(value=>{
            console.log(111);
        }).then(value=>{
            console.log(222);
        }).then(value=>{
            console.log(333);
        }).catch(error=>{
            console.log(error);
            // throw 'error'
        });
        // p.catch(error=>{
        //     console.log(error);
        //     // throw 'error'
        // });
    </script>
</body>
</html>